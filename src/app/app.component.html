<div class="main-wrapper">
  <div class="left">
    <!-- Create Form -->
    <form id="form">
      <div class="heading-wrapper">
        <h1>
          {{data.surveyHeader}}
        </h1>
        <h4>{{data.surveyHeaderSubtitle}}</h4>
      </div>
      <div class="content-wrapper">
        <!-- <div class="notice-container">
          Hi, Manoj. When you submit this form, the owner will see your name and email address.
        </div> -->

        <div *ngFor="let section of data.sections">
          <div class="heading">
            <div class="title">
              {{section.sectionHeader}}
            </div>
            <div class="subtitle">
              {{section.sectionHeaderSubtitle}}
            </div>
          </div>
          <div *ngFor="let item of section.questions; index as i">
            <div class="question-item">
              <!-- Details -->
              <div class="form-control">
                <label for="name" id="label-name">
                  {{i+1}}. {{item.question}}
                </label>
                <div class="question-subtitle">
                  {{item.questionSubtitle}}
                </div>
                <!-- Input Type Text -->
                <textarea *ngIf="item.type == 'longtext'" [(ngModel)]="item.response" type="text" rows="4"
                  [ngModelOptions]="{standalone: true}" placeholder="Enter your answer"></textarea>

                <!-- checkbox -->
                <div *ngIf="item.type == 'multichoice'">
                  <label *ngFor="let option of item.options; let i = index">
                    <input type="checkbox" (change)="toggleSelection($event, item.options, i, item.response)">{{option}}
                  </label>
                </div>

                <!-- radio -->
                <div *ngIf="item.type == 'singlechoice'">
                  <label *ngFor="let option of item.options">
                    <input type="radio" [(ngModel)]="item.response" [value]="option"
                      [ngModelOptions]="{standalone: true}">{{option}}
                  </label>
                </div>
              </div>

              <div class="form-button" *ngIf="item.AIRelevant">
                <button type="submit" value="submit">
                  View Chat
                </button>
                &nbsp;
                &nbsp;
                <button type="submit" value="submit">
                  Update Chat
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="button-wrapper">
          <!-- Multi-line Text Input Control -->
          <button type="submit" value="submit" (click)="onSubmit()">
            Submit
          </button>
        </div>
      </div>
    </form>
  </div>
  <div class="right">
    <div *ngFor="let chat of chatData" class="chat-wrapper">
      <div>
        <span class="sender">
          {{chat.sender}}
        </span>
      </div>
      <div class="content">
        {{chat.content}}
      </div>
    </div>
    <div *ngIf="showChatInput">
      <div class="chat-wrapper">
        <div>
          <span class="sender">
            USER
          </span>
        </div>
        <div class="content">
          <!-- Chat Input Type Text -->
          <textarea [(ngModel)]="chatInput" type="text" rows="4" [ngModelOptions]="{standalone: true}"
            placeholder="Enter a user message here."></textarea>
        </div>
        <svg (click)="showChatInput = false" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 24 24"
          class="chat-message-remove-button">
          <path d="M9 11a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2H9Z"></path>
          <path fill-rule="evenodd"
            d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Z"
            clip-rule="evenodd"></path>
        </svg>
      </div>
    </div>
    <div class="add-message" (click)="toggleChatInput()" *ngIf="!showChatInput">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
        <path d="M13 9a1 1 0 1 0-2 0v2H9a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2V9Z"></path>
        <path fill-rule="evenodd"
          d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Z"
          clip-rule="evenodd"></path>
      </svg>
      Add Message
    </div>
  </div>
</div>
<router-outlet></router-outlet>